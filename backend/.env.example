# Backend secrets & config (PLACEHOLDERS ONLY)
PORT=3002
#HOST=0.0.0.0
OPENAI_API_KEY=replace_me

# Models (use current docs to pick names)
# Valid realtime models include 'gpt-4o-realtime-preview' (update as needed)
OPENAI_REALTIME_MODEL=gpt-realtime-2025-08-28
OPENAI_TEXT_MODEL=gpt-4o
# Allowed voices: alloy, ash, ballad, coral, echo, sage, shimmer, verse, marin, cedar
OPENAI_TTS_VOICE=cedar
# Transcription model for realtime voice input (low-latency model recommended)
OPENAI_TRANSCRIPTION_MODEL=gpt-4o-mini-transcribe

# Voice activity detection tuning (lower values reduce end-of-turn lag)
# REALTIME_VAD_THRESHOLD sets sensitivity (0..1) - lower = more sensitive
# REALTIME_VAD_PREFIX_MS = audio captured BEFORE speech detected (prevents word cutoff)
# REALTIME_VAD_SILENCE_MS = silence duration before turn ends
# Optimized settings for accurate transcription from the start:
REALTIME_VAD_THRESHOLD=0.30
REALTIME_VAD_PREFIX_MS=300
REALTIME_VAD_SILENCE_MS=400

# DB (SQLite in dev)
DATABASE_URL=file:./dev.db

# Feature flags
VOICE_ENABLED=false
SPS_ENABLED=true
VOICE_DEBUG=false
BANNERS_ENABLED=true

# Speaker attribution (experimental; scaffolding only)
# Do not enable in production until wired and tested. Currently unused by runtime.
# Enable diarization (separate unknown speakers: A/B/C). Providers may vary.
# Accepts: true/false
SPEAKER_DIARIZATION_ENABLED=false
# Choose provider for diarization: openai|azure|gcp|aws|pyannote|nemo|none
SPEAKER_DIARIZATION_PROVIDER=none
# Upper bound for expected concurrent speakers
SPEAKER_DIARIZATION_MAX_SPEAKERS=2

# Speaker identification (match to known enrolled users)
# Accepts: true/false
SPEAKER_ID_ENABLED=false
# Provider for speaker ID: azure_speaker|custom|none
SPEAKER_ID_PROVIDER=none
# Confidence threshold (0..1) to emit a speakerId; below threshold keep tag only
SPEAKER_ID_THRESHOLD=0.7

# Optional service endpoints/keys (only if you wire providers in the future)
# AZURE_SPEAKER_ENDPOINT=
# AZURE_SPEAKER_KEY=

# CORS (optional): Comma-separated list of allowed origins for browser requests.
# If unset, defaults to localhost:5173 and localhost:5174 (and 127.0.0.1 variants)
#BACKEND_CORS_ORIGINS=http://localhost:5173,http://localhost:5174

# Security: Set to 'true' if running behind a reverse proxy (nginx, CloudFlare, etc.)
# This enables accurate IP-based rate limiting by trusting X-Forwarded-For headers
#TRUST_PROXY=true

# Optional: enable web research for AI generation
# Obtain a Bing Web Search key from Azure Cognitive Services
#BING_SEARCH_KEY=replace_me
#BING_SEARCH_ENDPOINT=https://api.bing.microsoft.com/v7.0/search
